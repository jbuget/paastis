# 2022-09-07 - Le registre

Dans Fastify, il n'est (toujours) pas possible d'ajouter des routes ou des plugins Ã  la volÃ©e (cf. [issue #149](https://github.com/fastify/help/issues/149)).

Dans mon cas, ce n'est pas si grave. 
Si une app se fait proxifiÃ©e une fois, si jamais elle doit Ãªtre rÃ©veillÃ©e, au moins le routage sera prÃªt.

Mais il me vient une rÃ©flexion : si on ne peut pas proxifier des routes/apps Ã  la volÃ©e, comment manager de nouvelles apps, pas prÃ©sentes au dÃ©marrage ?

Pistes :
- Peut-Ãªtre que `@fastify/http-proxy`, de par son comportement basÃ© sur les prefix de requÃªtes, permet de le faire
- Peut-Ãªtre que je vais vraiment devoir faire le proxy Ã  la main (et bye-bye la semi-gestion des WebSockets)

Mais du coup, quite Ã  faire un simple proxy_pass, pourquoi s'embÃªter avec Nginx ğŸ¤”

> âš ï¸ Quid des requÃªtes de fichier / multipart / stream ?

Et si le plus simple Ã©tait de passer directement par [`fastify-reply-from`](https://github.com/fastify/fastify-reply-from) ? 
Comme Ã§a plus de besoin de Nginx.
Et je rÃ©cupÃ¨re directement le app_name (via tldts).
Testons.

